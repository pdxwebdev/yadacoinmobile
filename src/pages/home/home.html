<ion-header>
  <ion-navbar>
    <button ion-button menuToggle color="{{color}}">
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-spinner *ngIf="loading"></ion-spinner>
  <ion-row>
    <ion-col col-lg-12 col-md-12 col-sm-12 *ngIf="!settingsService.remoteSettings.restricted || (settingsService.remoteSettings.restricted && settingsService.remoteSettings.identity.username_signature === bulletinSecretService.identity.username_signature)">
      <button ion-button large secondary (click)="createGroup()">
        Create Group&nbsp;<ion-icon name="create"></ion-icon>
      </button>
    </ion-col>
    <ion-col col-lg-12 col-md-12 col-sm-12 *ngIf="settingsService.remoteSettings.restricted && !graphService.isAdded(settingsService.remoteSettings.identity) && !graphService.isRequested(settingsService.remoteSettings.identity) && settingsService.remoteSettings.identity.username_signature !== bulletinSecretService.identity.username_signature">
      You are not yet registered for {{settingsService.remoteSettings.identity.username}}. Click the 'Join Organization' button to continue.
      <ion-input type="text" placeholder="Paste identity code here" [(ngModel)]="identitySkylink"></ion-input>
      <button ion-button large secondary (click)="joinGroup()">
        Join Organization&nbsp;<ion-icon name="create"></ion-icon>
      </button>
    </ion-col>
    <ion-col col-lg-12 col-md-12 col-sm-12 *ngIf="settingsService.remoteSettings.restricted && graphService.isAdded(settingsService.remoteSettings.identity) && !graphService.isRequested(settingsService.remoteSettings.identity) && settingsService.remoteSettings.identity.username_signature !== bulletinSecretService.identity.username_signature">
      Welcome back!
    </ion-col>
    <ion-col col-lg-12 col-md-12 col-sm-12 *ngIf="settingsService.remoteSettings.restricted && !graphService.isAdded(settingsService.remoteSettings.identity) && graphService.isRequested(settingsService.remoteSettings.identity) && settingsService.remoteSettings.identity.username_signature !== bulletinSecretService.identity.username_signature">
      Registration is pending approval.
    </ion-col>
  </ion-row>
</ion-content>
