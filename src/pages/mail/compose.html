<ion-header>
  <ion-navbar>
    <button ion-button menuToggle color="{{color}}">
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <button ion-button secondary (click)="submit()">Send</button>
  <form [formGroup]="myForm" (ngSubmit)="submit()" *ngIf="!recipient">
    <ion-auto-complete #searchbar [(ngModel)]="recipient" [options]="{ placeholder : 'Recipient' }" [dataProvider]="completeTestService" formControlName="searchTerm" required></ion-auto-complete>
  </form>
  <ion-item *ngIf="recipient" title="Verified" class="sender">{{recipient.username}} <ion-icon name="checkmark-circle" class="success"></ion-icon></ion-item>
  <ion-item>
    <ion-label floating>Subject</ion-label>
    <ion-input type="text" [(ngModel)]="subject"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label floating>Body</ion-label>
    <ion-textarea type="text" [(ngModel)]="body" rows="5" autoGrow="true"></ion-textarea>
  </ion-item>
</ion-content>